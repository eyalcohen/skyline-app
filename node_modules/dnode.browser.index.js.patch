diff --git a/node_modules/dnode/browser/index.js b/node_modules/dnode/browser/index.js
index 8d25710..2a5ffe7 100644
--- a/node_modules/dnode/browser/index.js
+++ b/node_modules/dnode/browser/index.js
@@ -22,7 +22,7 @@ dnode.prototype.connect = function () {
     var self = this;
     var params = protocol.parseArgs(arguments);
     var client = self.proto.create();
-    
+
     if (!params.port) params.port = parseInt(window.location.port, 10);
     if (isNaN(params.port)) delete params.port;
     var sock = client.socketio = new io.Socket(
@@ -42,6 +42,9 @@ dnode.prototype.connect = function () {
     sock.on('disconnect', function () {
         client.emit('end');
         self.emit('end');
+        // SP: added this callback. Is there a better way?
+        if (params.disconnect)
+          params.disconnect();
     });
     
     sock.on('message', client.parse);

     